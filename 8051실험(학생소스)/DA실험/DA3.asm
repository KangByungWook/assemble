; DA 실험3 ~ 사인 곡선 만들기 

DAC             EQU   0FFD1H
TOTAL           EQU   0C8H                  

                ORG   8000H
START:          MOV   A,#00H
                MOV   R0,#00H
                 
LOOP:           MOV   DPTR,#SINEWAVETABLE
                MOV   A,R0
                MOVC  A,@A+DPTR                 
                MOV   R1,A
                CALL  DACONVERT
                INC   R0
                CJNE  R0,#TOTAL,LOOP
                JMP   START                        

DACONVERT:      MOV   A,R1
                MOV   DPTR,#0FFD1H
                MOVX  @DPTR,A
                RET
                   
SINEWAVETABLE:
DB              128,132,136,140,144,148,151,155,159,163
DB              167,171,175,178,182,186,189,193,196,199
DB              203,206,209,212,215,218,221,224,226,229
DB              231,233,236,238,240,242,243,245,247,248
DB              249,250,251,252,253,254,254,255,255,255
DB              255,255,255,255,255,254,253,252,251,250
DB              249,248,247,245,243,242,240,238,236,233
DB              231,229,226,224,221,218,215,212,209,206
DB              203,199,196,193,189,186,182,178,175,171
DB              167,163,159,155,151,148,144,140,136,132
DB              127,123,119,115,111,107,104,100,096,092
DB              088,084,080,077,073,069,066,062,059,056
DB              052,049,046,043,040,037,034,031,029,026
DB              024,022,019,017,015,013,012,010,008,007
DB              006,005,004,003,002,001,001,000,000,000
DB              000,000,000,000,001,001,002,003,004,005
DB              006,007,008,010,012,013,015,017,019,022
DB              024,026,029,031,034,037,040,043,046,049
DB              052,056,059,062,066,069,073,077,080,084
DB              088,092,096,100,104,107,111,115,119,123

END         